@{
    ViewData["title"] = "Payment";
}

@model Reservations

<section class="my-5">
    <div class="container">
        <div class="row step3-page-row">
            <div class="col-md-6 h-100">
                <h3>
                    Travel Details
                </h3>

                <div class="row step3-left-details">
                    <div class="col-6">
                        <label>Pick Up</label>
                        <p>@Model.PickFullName</p>
                    </div>
                    <div class="col-6">
                        <label>Drop Off</label>
                        <p>@Model.DropFullName</p>
                    </div>
                    <div class="col-6">
                        <label>Passengers</label>
                        <p>@Model.PeopleCount Adult</p>
                    </div>
                    <div class="col-6">
                        <label>Date</label>
                        <p>@Model.ReservationDate.ToString("f")</p>
                    </div>
                    <div class="col-6">
                        <label>Booking Type</label>
                        <p>@(!Model.ReturnStatus ? "One Way" : "Return")</p>
                    </div>

                    @if (Model.ReturnStatus)
                    {
                        <div class="col-6">
                            <label>Return Date</label>
                            <p>@Model.ReturnDate.ToString("f")</p>
                        </div>
                    }
                </div>

                <div class="step3-line"></div>

                <div class="row step3-left-details">
                    <div class="col-12">
                        <h5>
                            Passengers Detail
                        </h5>
                    </div>
                    <div class="col-6">
                        <label>Name</label>
                        <p>@Model.Name</p>
                    </div>
                    <div class="col-6">
                        <label>Surname</label>
                        <p>@Model.Surname</p>
                    </div>
                    <div class="col-6">
                        <label>Phone</label>
                        <p>@Model.RealPhone</p>
                    </div>
                    <div class="col-6">
                        <label>E-mail</label>
                        <p>@Model.Email</p>
                    </div>
                    <div class="col-6">
                        <label>Reservation Number</label>
                        <p>@Model.ReservationCode</p>
                    </div>
                </div>

                <div class="step3-line"></div>

                <div class="row step3-left-details">
                    <div class="col-12">
                        <h5>
                            Car Information
                        </h5>
                    </div>
                    <div class="col-6 step3-left-image">
                        <img src="@Model.LocationCars.Car.Type.CarImageURL"
                             alt="">
                    </div>
                    <div class="col-6 step3-left-car-detail">
                        <div class="step2_car_attrs">
                            <div>
                                <i class="fa-solid fa-user"></i> <span>1-@Model.LocationCars.Car.MaxPassenger</span>
                            </div>
                            <div>
                                <i class="fa-solid fa-suitcase-rolling"></i> <span>@Model.LocationCars.Car.SuitCase</span>
                            </div>
                            <div>
                                <i class="fa-solid fa-briefcase-blank"></i> <span>@Model.LocationCars.Car.SmallBags</span>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="col-md-6 h-100" style="
                color: black;
                padding: 1rem;">
                <h3>
                    Enter Your Payment Details
                </h3>
                <div class="step3-right-top-infos">
                    <div class="step3-right-radios">
                        <div>
                            <div>
                                <input type="radio" name="refund" checked> <span>Non Refundable</span>
                            </div>
                            <div>
                                <p>
                                    @Model.TotalPrice €
                                </p>
                            </div>
                        </div>
                        @*<div>
                        <div>
                        <input type="radio" name="refund" id=""> <span>Full Refund</span>
                        </div>
                        <div>
                        <p>
                        € 50
                        </p>
                        </div>
                        </div>
                        <div>
                        <div>
                        <input type="radio" name="lorem" id=""> <span>Lorem Ipsum</span>
                        </div>
                        <div>
                        <p>
                        € 50
                        </p>
                        </div>
                        </div>
                        <div>
                        <div>
                        <input type="radio" name="lorem" id=""> <span>Lorem Ipsum</span>
                        </div>
                        <div>
                        <p>
                        € 50
                        </p>
                        </div>
                        </div>*@
                    </div>
                    <hr>
                    <div class="total-price">
                        <div>
                            <p class="text">Total</p>
                        </div>
                        <div>
                            <p class="total-price-text">@Model.TotalPrice € </p>
                        </div>
                    </div>

                    <div class="step3-extra-details" style="display: none;">
                        <hr>
                        <div class="step3-extra-detail-item">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <p class="text">
                                        Trip Price
                                    </p>
                                </div>
                                <div>
                                    <p class="text price">@Model.TotalPrice € </p>
                                </div>
                            </div>
                            <p>Includes waiting time, toll roads (if applicable) and taxes</p>
                        </div>
                        <div class="step3-extra-detail-item">
                            <div class="d-flex justify-content-between">
                                <div>
                                    <p class="text">
                                        Service Fee
                                    </p>
                                </div>
                                <div>
                                    <p class="text price">@Model.ExtraServiceFee €</p>
                                </div>
                            </div>
                            <p>This fee helps us improve our service</p>
                        </div>
                        @* <div class="step3-extra-detail-item">
                        <div class="d-flex justify-content-between">
                        <div>
                        <p class="text">
                        Refundable Cancellation
                        </p>
                        </div>
                        <div>
                        <p class="text price">€ 90</p>
                        </div>
                        </div>
                        </div>*@
                        <hr>
                    </div>

                    <div class="hidden-link">
                        <a href="javascript:;">Show Details</a>
                    </div>
                    <div>
                    </div>
                    <div>
                    </div>
                </div>

                <div class="step3-card-area mt-4">
                    <form id="payForm" method="post">
                        <div class="row g-2 step3-card-infos">
                            <div class="col-12">
                                <label for="cardName">Card Holder Name</label>
                                <input type="text" id="cardName" name="CardHolderName" placeholder="Card Holder Name" class="font-control form-control-custom">
                            </div>
                            <div class="col-12 _Pos_Rel">
                                <label for="cardNumber">Card Number</label>
                                <input type="text" id="cardNumber" name="CardNumber" placeholder="Card Number" class="font-control form-control-custom">

                            </div>
                            <div class="col-6">
                                <label for="mmyy">MM/YYYY</label>
                                <input type="text" id="mmyy" name="CardDate" placeholder="MM/YYYY" class="font-control form-control-custom">
                            </div>
                            <div class="col-6">
                                <label for="cvc">CVC</label>
                                <input type="text" id="cvc" name="CVC" placeholder="CVC" class="font-control form-control-custom">
                            </div>
                            <div class="col-12">
                                <button type="submit"> @Model.TotalPrice € Pay</button>
                            </div>
                            <p>
                                Guaranteed safe & secure checkout
                            </p>
                        </div>
                    </form>
                </div>

                <div class="cardTypesImages">
                    <div>
                        <img src="~/img/cards.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>






<style>
    label.error {
        position: initial !important;
    }
</style>



@section pageJsScript{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cleave.js/1.0.2/cleave.min.js" integrity="sha512-SvgzybymTn9KvnNGu0HxXiGoNeOi0TTK7viiG0EGn2Qbeu/NFi3JdWrJs2JHiGA1Lph+dxiDv5F9gDlcgBzjfA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
}


@section pageJs{
    <script>
        var CardNumber = new Cleave('input[name="CardNumber"]', {
            numericOnly: true,
            blocks: [4,4,4,4],
            delimiter: '-'
        });
        var CardDate = new Cleave('input[name="CardDate"]', {
            date: true, datePattern: ['m', 'Y']
        });
        var CVC = new Cleave('input[name="CVC"]', {
            numericOnly: true,
            blocks: [3]
        });
    </script>
}

